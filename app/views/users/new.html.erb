<% provide(:title, "Sign Up") %>
<% provide(:headline, "Sign Up") %>
<% provide(:icon, "ok-circle") %>


<%= form_for(@user) do |f| %>
<%= render 'shared/error_messages' %>

<div class='middle-container'>
  <div class='middle-row'>
    <div class='middle-wrapper'>
      <div class='login-container'>
        <div class='container'>
          <div class='row'>
            <div class='col-sm-4 col-sm-offset-4'>
              <form action='index.html' method='get'>
                <div class='form-group'>
                  <div class='controls with-icon-over-input' style="position:relative;">
                    <%= f.text_field :email, class: 'form-control', placeholder: 'Email' %>
                    <i class='icon-user text-muted'  style="position: absolute; right: 10px; top: 9px;"></i>
                  </div>
                </div>
                <div class='form-group'>
                  <div class='controls with-icon-over-input' style="position:relative;">
                    <%= f.text_field :first , class: 'form-control', placeholder: 'First Name' %>
                    <i class='icon- text-muted'  style="position: absolute; right: 10px; top: 9px;"></i>
                  </div>
                </div>
                <div class='form-group'>
                  <div class='controls with-icon-over-input' style="position:relative;">
                    <%= f.text_field :last, class: 'form-control', placeholder: 'Last Name' %>
                    <i class='icon- text-muted'  style="position: absolute; right: 10px; top: 9px;"></i>
                  </div>
                </div>
                <div class='form-group'>
                  <div class='controls with-icon-over-input' style="position:relative;">
                    <%= f.text_field :address, class: 'form-control', placeholder: 'Mailing Address' %>
                    <i class='icon- text-muted'  style="position: absolute; right: 10px; top: 9px;"></i>
                  </div>
                </div>
                <div class='form-group'>
                  <div class='controls with-icon-over-input' style="position:relative;">
                    <%= f.text_field :phone, class: 'form-control', placeholder: 'Phone' %>
                    <i class='icon- text-muted'  style="position: absolute; right: 10px; top: 9px;"></i>
                  </div>
                </div>
                <div class='form-group'>
                  <div class='controls with-icon-over-input' style="position:relative;">
                    <%= f.text_field :url, class: 'form-control', placeholder: 'Social Media URL' %>
                    <i class='icon- text-muted'  style="position: absolute; right: 10px; top: 9px;"></i>
                  </div>
                </div>
                <div class='form-group'>
                  <div class='controls with-icon-over-input' style="position:relative;">
                    <%= f.label :publisher, "Publisher", :value => "true"  %>
                    <%= f.radio_button :publisher, true, onclick:"javascript:chg_publisher();" %>
                    <i class='icon- text-muted'  style="position: absolute; right: 10px; top: 9px;"></i>
                  </div>
                  <div class='controls with-icon-over-input' style="position:relative;">
                    <%= f.label :publisher, "User&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;".html_safe, :value => "false" %>
                    <%= f.radio_button :publisher, false, :checked => true, onclick:"javascript:chg_publisher();" %>
                    <i class='icon- text-muted'  style="position: absolute; right: 10px; top: 9px;"></i>
                  </div>
                </div>
                
                <script>
                  function chg_publisher(){
                    if(document.getElementById('user_publisher_true').checked){
                      document.getElementById('publisherfields').style.display = '';
                      console.info("user publisher visible");
                    } else{
                      document.getElementById('publisherfields').style.display = 'none';
                      console.info("user publisher hidden");
                    }
                  }
                </script>
                
                <span id="publisherfields" style="display:none;">
                  <div class='form-group'>
                    <div class='controls with-icon-over-input' style="position:relative;">
                      <%= text_field(:publisher,:company, class: 'form-control', placeholder: 'Company') %>
                      <i class='icon- text-muted'  style="position: absolute; right: 10px; top: 9px;"></i>
                    </div>
                  </div>
                  <div class='form-group'>
                    <div class='controls with-icon-over-input' style="position:relative;">
                      <%= text_field(:publisher,:position, class: 'form-control', placeholder: 'Position') %>
                      <i class='icon- text-muted'  style="position: absolute; right: 10px; top: 9px;"></i>
                    </div>
                  </div>
                </span>
                
                <div class='form-group'>
                  <div class='controls with-icon-over-input' style="position:relative;">
                    <%= f.password_field :password, class: 'form-control', placeholder: 'Password' %>
                    <i class='icon-lock text-muted'  style="position: absolute; right: 10px; top: 9px;"></i>
                  </div>
                </div>
                <div class='form-group'>
                  <div class='controls with-icon-over-input' style="position:relative;">
                    <%= f.password_field :password_confirmation, class: 'form-control', placeholder: 'Confirm Password' %>
                    <i class='icon-lock text-muted'  style="position: absolute; right: 10px; top: 9px;"></i>
                  </div>
                </div>
                <div class='checkbox'>
                  <label for='agreement'>
                    <input id='agreement' name='agreement' type='checkbox' value='1'>
                    I accept
                    <a class='text-contrast' href='#'>user agreements</a>
                  </label>
                </div>
                <!--<button class='btn btn-block'>Sign up</button>-->
                <%= f.submit "Sign Up!", class: "btn btn-block" %>
              </form>
              <div class='text-center'>
                <hr class='hr-normal'>
                <a href='/signin'>
                  <i class='icon-chevron-left'></i>
                  Go back to sign in
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class='login-container-footer'>
        <div class='container'>
          <div class='row'>
            <div class='col-sm-12'>
              <div class='text-center'>
                <a href='/password_resets/new'>
                  <i class='icon-lock'></i>
                  Forgot your password?
                </a>
                <br><br>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>